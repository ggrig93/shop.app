<template>
  <div class="header-device-mobile">
    <div class="wapper">
      <div class="item mobile-logo">
        <div class="logo">
          <router-link :to="{name: 'Home'}">
<!--            <img src="http://ledthanhdat.vn/html/ysera/assets/images/logo.png" alt="img">-->
            <svg width="169" height="80" viewBox="0 0 169 80" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M42.9628 56.1407C42.878 55.768 42.7191 55.3313 42.5177 54.8414C42.2952 54.3409 41.9667 53.8297 41.5111 53.2866C40.6739 52.1577 39.4447 51.1992 37.8447 50.3686C36.2446 49.5592 34.263 49.048 31.9106 48.835C33.2775 48.6433 34.5597 48.3558 35.7889 47.9511C36.9969 47.5251 38.046 46.9926 38.9361 46.2791C39.8368 45.5869 40.4832 44.8201 40.8435 44.0107C41.2038 43.2013 41.3839 42.3813 41.3839 41.6039C41.3839 41.2098 41.3415 40.7413 41.2462 40.2301C41.0342 38.9202 40.515 37.8658 39.6567 37.0671C38.8195 36.2684 37.8023 35.6401 36.626 35.1821C35.4392 34.7242 34.1676 34.426 32.8219 34.2556C31.4549 34.0745 30.1409 34 28.8799 34H20V65.8106H30.6814C31.8046 65.8106 32.9596 65.7254 34.157 65.5444C35.3439 65.3633 36.4671 65.0651 37.5268 64.6391C38.5864 64.2025 39.5507 63.6594 40.4196 62.9671C41.2991 62.2856 41.9773 61.4655 42.4754 60.4964C42.8992 59.5486 43.1006 58.6114 43.1006 57.6636V57.0885C43.1006 56.8329 43.0476 56.5241 42.9628 56.1407ZM39.4235 60.2515C39.1268 61.2632 38.6182 62.1471 37.8764 62.9458C37.1559 63.7339 36.2022 64.3729 35.026 64.8628C33.8391 65.342 32.3874 65.587 30.6708 65.587H23.3591V34.2236H28.8905C30.5966 34.2236 32.0483 34.4153 33.2351 34.8094C34.4008 35.2141 35.3439 35.7465 36.0644 36.4068C36.7638 37.0671 37.2724 37.8552 37.5797 38.7604C37.8764 39.6443 38.0248 40.5922 38.0248 41.6039C38.0248 42.5623 37.887 43.4889 37.6221 44.3302C37.3572 45.1928 36.891 45.9383 36.2128 46.5879C35.5558 47.2376 34.6869 47.7594 33.606 48.1534C32.5464 48.5475 31.2218 48.7818 29.6535 48.8457V49.0267C29.8018 48.9948 29.9714 48.9841 30.1515 48.9841H30.6496C31.9847 48.9522 33.2245 49.1226 34.369 49.4953C35.524 49.8893 36.5095 50.4325 37.336 51.1673C38.1731 51.8915 38.8195 52.7754 39.2646 53.7978C39.7097 54.8414 39.9216 55.9809 39.8898 57.2589C39.8792 58.2493 39.7308 59.2611 39.4235 60.2515Z" fill="#C09578"/>
              <path d="M65.73 55.5039C65.7193 55.4719 65.6979 55.4293 65.6872 55.3973L65.5695 55.7279C65.7407 56.3466 65.7942 56.9545 65.7514 57.5198C65.7514 57.7012 65.7514 57.8825 65.7407 58.0638C65.73 58.2451 65.6979 58.4585 65.6658 58.6718C65.5481 59.6318 65.2698 60.5277 64.8204 61.3064C64.3816 62.1063 63.8359 62.789 63.1831 63.3863C62.5196 63.9729 61.7812 64.4422 60.9251 64.7729C60.0904 65.1036 59.2129 65.2955 58.3033 65.3595H57.7469C56.4413 65.3595 55.2535 65.1142 54.194 64.6022C53.1239 64.1009 52.1929 63.4289 51.4224 62.5543C50.6305 61.6903 49.9992 60.6877 49.5176 59.5251C49.036 58.3838 48.7364 57.1572 48.608 55.8772C48.5224 55.2479 48.4689 54.64 48.4689 54.0533C48.4689 53.0933 48.5866 52.0801 48.8327 51.0561H59.8443C60.0583 51.0454 60.2509 51.0454 60.465 51.0561H65.6123C65.4625 49.6588 65.0665 48.4962 64.403 47.5576C63.7503 46.6403 63.0012 45.8936 62.1451 45.3603C61.2783 44.8163 60.3901 44.4217 59.4698 44.1977C58.528 43.9737 57.7041 43.8457 56.9764 43.8457H56.3878C55.4675 43.9097 54.5258 44.0697 53.5413 44.347C52.5782 44.6137 51.615 45.0297 50.7161 45.5523C49.7958 46.0963 48.9504 46.7576 48.1799 47.5469C47.4095 48.3362 46.7567 49.2642 46.2323 50.3201C45.5367 51.7174 45.1836 53.3493 45.1836 55.2053V55.4293C45.2478 57.3172 45.6116 58.9171 46.2751 60.2397C46.96 61.5624 47.8375 62.6503 48.9076 63.5249C49.9992 64.3889 51.2405 65.0182 52.6103 65.4129C54.0014 65.8075 55.4354 65.9995 56.9336 65.9995C58.4317 65.9995 59.7373 65.7542 60.8395 65.2742C61.9631 64.7942 62.8835 64.1863 63.6111 63.4503C64.3495 62.725 64.9167 61.9143 65.2912 61.0397C65.6658 60.1544 65.8798 59.3224 65.9547 58.5331C65.9868 58.3838 65.9975 58.2132 65.9975 58.0638V57.6158C66.051 56.9225 65.9547 56.2186 65.73 55.5039ZM50.8446 46.6936C51.7863 45.4456 52.9741 44.6563 54.4188 44.3577C54.8682 44.2724 55.3284 44.219 55.7778 44.219C56.3343 44.1337 56.9764 44.2297 57.704 44.5177C58.4424 44.8057 59.138 45.243 59.8015 45.8403C60.4864 46.4269 61.0749 47.1522 61.5672 48.0269C62.0702 48.8908 62.3805 49.8401 62.5089 50.8748H48.8755C49.2394 49.3282 49.8921 47.9202 50.8446 46.6936Z" fill="#C09578"/>
              <path d="M94.6087 34L83.6973 54.2451L71.4326 34H68.6621V65.8106H68.8433V35.6827C69.2375 36.311 69.7277 37.1097 70.3244 38.0788C70.9318 39.0267 71.5605 40.0703 72.2424 41.1672C72.935 42.2855 73.6383 43.4356 74.3842 44.671C75.1408 45.9063 75.876 47.1098 76.6006 48.2812C77.4424 49.6763 78.3162 51.114 79.2219 52.5517C80.1063 54.0108 81.044 55.5124 82.0243 57.0672H82.4293L94.1612 35.3738V65.8106H97.4431V34H94.6087Z" fill="#C09578"/>
              <path d="M101.229 43.8457V65.8102H104.637V43.8457H101.229Z" fill="#C09578"/>
              <path d="M148.303 55.5034C148.059 54.7788 147.75 54.1074 147.325 53.5C146.889 52.8926 146.389 52.3705 145.826 51.9336C145.252 51.4861 144.635 51.209 144.008 51.0918H148.186C148.037 49.6958 147.633 48.5343 146.985 47.5966C146.336 46.6802 145.592 45.9343 144.731 45.4015C143.891 44.858 142.997 44.4638 142.072 44.24C141.158 44.0162 140.329 43.8883 139.605 43.8883H138.999C138.096 43.9523 137.139 44.1334 136.118 44.4105C135.108 44.6982 134.119 45.1351 133.173 45.7105C132.216 46.2859 131.344 47.0105 130.525 47.8524C129.727 48.7155 129.1 49.7065 128.643 50.868H125.368C125.219 49.6532 124.921 48.6089 124.464 47.7458C124.018 46.872 123.475 46.1687 122.827 45.6253C122.199 45.0818 121.508 44.6662 120.753 44.3892C119.998 44.1121 119.233 43.9523 118.488 43.8883C118.34 43.8564 118.201 43.8457 118.084 43.8457H117.68C117.255 43.8457 116.745 43.8883 116.16 43.9629C115.575 44.0375 115.022 44.176 114.512 44.3892C113.789 44.7408 113.172 45.1564 112.651 45.6679C112.141 46.1794 111.79 46.7335 111.609 47.3089V43.8883H108.238V65.7438H111.609V49.0778C111.822 49.5893 112.236 50.0368 112.874 50.4205C113.523 50.7934 114.427 51.0278 115.596 51.0811H122.114V65.7331H125.464V51.9443C125.464 51.7951 125.464 51.6565 125.453 51.518C125.442 51.3688 125.421 51.2303 125.421 51.0811H128.611C128.133 52.3172 127.888 53.6279 127.888 54.9919V55.4394C127.952 57.3255 128.313 58.9239 128.973 60.2453C129.632 61.5666 130.504 62.6535 131.588 63.5273C132.652 64.3905 133.885 65.0192 135.267 65.4134C136.649 65.8077 138.074 65.9995 139.563 65.9995C141.062 65.9995 142.37 65.7544 143.486 65.2749C144.603 64.7954 145.517 64.188 146.24 63.4527C146.963 62.7281 147.516 61.9183 147.878 61.0445C148.239 60.16 148.452 59.3076 148.505 58.4977C148.537 58.3485 148.548 58.178 148.548 58.0288V57.5813C148.612 56.9313 148.537 56.2173 148.303 55.5034ZM115.649 50.8573C114.257 50.8254 113.246 50.527 112.608 49.9836C112.109 49.6213 111.822 49.2057 111.726 48.7368C111.63 48.2679 111.651 47.7884 111.832 47.3089C112.013 46.8294 112.332 46.3605 112.768 45.9236C113.204 45.4761 113.725 45.1244 114.342 44.858C114.639 44.6875 114.958 44.6023 115.288 44.5597C115.618 44.517 115.947 44.4851 116.298 44.4851C116.957 44.4851 117.638 44.6023 118.308 44.858C118.988 45.1031 119.605 45.4761 120.158 45.9876C120.7 46.499 121.147 47.1597 121.508 47.9802C121.87 48.7794 122.082 49.7385 122.114 50.868H115.649V50.8573ZM133.534 46.6909C134.448 45.4548 135.65 44.6875 137.096 44.3892C137.564 44.3039 138 44.2506 138.415 44.2506C138.957 44.2506 139.584 44.3572 140.297 44.5703C141.02 44.7941 141.721 45.2203 142.413 45.849C143.136 46.4564 143.731 47.2023 144.22 48.0761C144.688 48.9606 144.975 49.8877 145.092 50.8573H131.546C131.95 49.3122 132.598 47.9269 133.534 46.6909ZM148.303 58.0288C148.293 58.2206 148.261 58.4338 148.229 58.6469C148.112 59.6059 147.825 60.501 147.389 61.3109C146.953 62.1101 146.411 62.8027 145.751 63.3995C145.103 63.9855 144.369 64.4544 143.529 64.7847C142.7 65.1151 141.828 65.3069 140.913 65.3708H140.371C139.063 65.3708 137.894 65.1257 136.82 64.6142C135.767 64.1134 134.853 63.4421 134.066 62.5683C133.3 61.7052 132.673 60.7035 132.184 59.542C131.705 58.4018 131.386 57.1764 131.269 55.8976C131.184 55.2689 131.131 54.6615 131.131 54.0755C131.131 53.1164 131.248 52.1041 131.493 51.0811H142.498C143.359 51.0172 144.135 51.1877 144.858 51.582C145.592 51.9762 146.23 52.4877 146.772 53.1377C147.325 53.7664 147.729 54.4804 148.005 55.2476C148.271 56.0362 148.378 56.7714 148.324 57.4641C148.324 57.6346 148.324 57.837 148.303 58.0288Z" fill="#C09578"/>
              <path d="M105.764 39.9931C105.711 40.6586 105.459 41.2396 105.007 41.7361C104.565 42.222 104.019 42.5284 103.377 42.6552C102.862 42.7608 102.347 42.708 101.853 42.539C101.632 42.465 101.432 42.3594 101.233 42.2326C101.222 42.222 101.212 42.222 101.212 42.2115C101.117 42.1375 101.022 42.0741 100.928 42.0002C100.686 41.7995 100.486 41.5565 100.328 41.2924C100.108 40.9332 99.9815 40.5424 99.9289 40.1304C99.8764 39.729 99.9079 39.3381 100.024 38.9472C100.118 38.6303 100.255 38.3345 100.444 38.0704C100.602 37.8486 100.781 37.669 100.98 37.4894C101.222 37.2781 101.569 37.3309 101.716 37.6056C101.811 37.7746 101.8 38.0387 101.59 38.2077C101.222 38.5035 100.98 38.8944 100.896 39.3698C100.77 40.0036 100.928 40.5741 101.338 41.0706C101.485 41.2502 101.664 41.3981 101.874 41.5143C101.884 41.5248 101.895 41.5248 101.895 41.5354C101.99 41.5776 102.084 41.6199 102.189 41.6516C102.704 41.8312 103.209 41.81 103.703 41.5776C104.303 41.2819 104.681 40.8065 104.807 40.1409C104.912 39.6233 104.807 39.1479 104.534 38.7043C104.303 38.3345 103.998 38.0704 103.588 37.912C103.451 37.8591 103.304 37.8169 103.157 37.7852C102.957 37.7429 102.831 37.6267 102.768 37.426C102.768 37.4155 102.757 37.4049 102.757 37.3838H101.811V37.1936H101.874C102.147 37.1936 102.431 37.1936 102.704 37.1936C102.747 37.1936 102.768 37.183 102.789 37.1408C102.873 36.9295 103.083 36.8133 103.314 36.845C103.756 36.919 104.166 37.0774 104.523 37.3309C105.07 37.7112 105.448 38.2289 105.648 38.8627C105.753 39.2219 105.795 39.6022 105.764 39.9931Z" fill="#C09578"/>
            </svg>
          </router-link>
        </div>
      </div>
      <div class="header-searchform-box">
        <form class="header-searchform" @submit.prevent="searchHandler">
          <div class="searchform-wrap">
            <input v-model="search" type="text" class="search-input" :placeholder="$t('search')">
            <button type="submit" class="submit button" :style="{'background-color': settings ? settings.main_color : 'white'}">
              <span class="icon">
                <i class="fa fa-search" aria-hidden="true"></i>
              </span>
            </button>
          </div>
        </form>
      </div>
      <div class="item menu-bar">
        <a class=" mobile-navigation  menu-toggle" @click.stop="openMobileMenu">
          <span></span>
          <span></span>
          <span></span>
        </a>
      </div>
    </div>
  </div>
</template>

<script>

import headerMixin from "@/mixins/header.mixin";
import {mapGetters, mapMutations} from "vuex";
export default {
  name: "HeaderMobile",
  mixins: [headerMixin],
  data() {
    return {
      search: "",
    }
  },
  watch: {
    '$route.query': {
      immediate: true,
      handler(val) {
        if(val?.search) {
          this.search = val.search
        } else {
          this.search = ""
        }
      }
    }
  },
  methods: {
    ...mapMutations(["setSearch"]),
    searchHandler() {
      this.setSearch(this.search)
      if(this.$route.name !== 'Products') {
        this.$router.replace({name: 'Products', query: {search: this.search}})
      }
    },
  },
  computed: {
    ...mapGetters(["settings"]),
  }
}
</script>
<style>

</style>